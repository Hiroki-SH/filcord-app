<% provide(:title, "記録追加") %>

<div class="page-title">
  <h1>撮影記録　追加</h1>
</div>

<div class="container">
  <div class="form-wrapper photo-left">
    <%= form_with(model: @photo, local: true) do |f| %>
      <%= hidden_field_tag(:film_id, @film_id) %><!-- film.idを渡す -->
      <%= f.hidden_field(:lat) %><!-- JavaScriptで取得した緯度を渡す -->
      <%= f.hidden_field(:lng) %><!-- JavaScriptで取得した経度を渡す -->

      <%= f.label :f_number, "F値" %>
      <%= f.text_field :f_number, class: "form-control" %>

      <%= f.label :shutter_speed, "シャッタースピード" %>
      <%=  f.text_field :shutter_speed, class: "form-control" %>

      <div id="map-button" class="btn">位置情報を取得</div>

      <%= f.submit "撮影記録を追加", class: "btn"  %>
    <% end %>

  </div>

  <div class="photo-right">
    <div id="map"></div>
  </div>
  
</div>

<script src=<%= "https://maps.google.com/maps/api/js?key=#{ENV['GOOGLE_MAP_API_KEY']}&language=ja" %>></script>
<%= javascript_pack_tag 'location' %>
